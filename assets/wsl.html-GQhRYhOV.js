import{_ as l,r as o,o as i,c,a as s,b as n,d as a,e as t}from"./app-0PUHe8AR.js";const r="/assets/1-61Qwgfj6.png",d="/assets/2-6eioONSr.png",p={},u=s("h2",{id:"概述",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#概述","aria-hidden":"true"},"#"),n(" 概述")],-1),h=s("p",null,"WSL（Windows Subsystem for Linux）是Windows的一项功能，可用于在Windows中运行Linux环境而无需单独的虚拟机或双引导",-1),m={href:"https://docs.microsoft.com/zh-cn/windows/wsl",target:"_blank",rel:"noopener noreferrer"},v=s("h2",{id:"下载系统",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#下载系统","aria-hidden":"true"},"#"),n(" 下载系统")],-1),b=s("strong",null,"CentOS",-1),k=s("br",null,null,-1),_={href:"https://github.com/CentOS/sig-cloud-instance-images/",target:"_blank",rel:"noopener noreferrer"},g=s("br",null,null,-1),f=s("img",{src:r,alt:"1.png"},null,-1),w=s("img",{src:d,alt:"2.png"},null,-1),x=t(`<h2 id="安装系统" tabindex="-1"><a class="header-anchor" href="#安装系统" aria-hidden="true">#</a> 安装系统</h2><p>首先安装<code>Chocolatey</code>，<code>Chocolatey</code>是windows上的包管理工具<br> 然后使用<code>Chocolatey</code>安装<code>LxRunOffline</code>，<code>LxRunOffline</code>是wsl管理软件</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 安装 Chocolatey</span>
Set-ExecutionPolicy Bypass <span class="token parameter variable">-Scope</span> Process -Force<span class="token punctuation">;</span> iex <span class="token variable"><span class="token punctuation">((</span>New<span class="token operator">-</span>Object System.Net.WebClient<span class="token punctuation">)</span>.DownloadString<span class="token punctuation">(</span>&#39;https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>chocolatey.org<span class="token operator">/</span>install.ps1&#39;<span class="token punctuation">))</span></span>
<span class="token comment"># 安装 LxRunOffline</span>
choco <span class="token function">install</span> lxrunoffline
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装完成后需要重启powershell，以进行下一步安装</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>LxRunOffline <span class="token function">install</span> <span class="token parameter variable">-n</span> 自定义系统名称 <span class="token parameter variable">-d</span> 安装目录路径 <span class="token parameter variable">-f</span> tar.xz安装包路径
<span class="token comment"># 注意windows系统命令行中的文件路径和linux系统差别很大</span>
<span class="token comment"># 比如我这里的安装命令就是</span>
LxRunOffline <span class="token function">install</span> <span class="token parameter variable">-n</span> centos <span class="token parameter variable">-d</span> D:/centos <span class="token parameter variable">-f</span> .<span class="token punctuation">\\</span>centos-7-x86_64-docker.tar.xz
<span class="token comment"># 将centos安装到D盘的centos文件夹下，并且命名为centos</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-升级到wsl2" tabindex="-1"><a class="header-anchor" href="#_3-升级到wsl2" aria-hidden="true">#</a> 3. 升级到wsl2</h2><p>wsl2对比wsl1性能有很大提升，如果当前系统是wsl1，可以升级到wsl2</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 列出已经安装的wsl的信息</span>
wsl <span class="token parameter variable">-l</span> <span class="token parameter variable">-v</span>
<span class="token comment"># 将对应的wsl设为wsl2，注意&lt;Distro&gt;要和上面查询到的信息一致</span>
wsl --set-version <span class="token operator">&lt;</span>Distro<span class="token operator">&gt;</span> <span class="token number">2</span>
<span class="token comment"># 设置默认使用的发行版</span>
wsl <span class="token parameter variable">-s</span> <span class="token operator">&lt;</span>Distro<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8),S={href:"https://learn.microsoft.com/zh-cn/windows/wsl/install",target:"_blank",rel:"noopener noreferrer"},L=t(`<h2 id="_4-启动" tabindex="-1"><a class="header-anchor" href="#_4-启动" aria-hidden="true">#</a> 4. 启动</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>LxRunOffline run <span class="token parameter variable">-n</span> 自定义系统名称
wsl <span class="token parameter variable">-d</span> 自定义系统名称
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-其他" tabindex="-1"><a class="header-anchor" href="#_5-其他" aria-hidden="true">#</a> 5. 其他</h2><p>执行<code>systemct</code>l命令出现<code>wsl Failed to get D-Bus connection: Operation not permitted</code> 使用<code>vi</code>或<code>vim</code>命令编辑<code>/etc/wsl.conf</code>文件，插入以下内容</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>boot<span class="token punctuation">]</span>
<span class="token assign-left variable">systemd</span><span class="token operator">=</span>true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后需要重启linux子系统</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>wsl <span class="token parameter variable">--shutdown</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,7);function O(y,C){const e=o("ExternalLinkIcon");return i(),c("div",null,[u,h,s("blockquote",null,[s("p",null,[s("a",m,[n("WSL官方文档"),a(e)])])]),v,s("p",null,[n("WSL支持的系统有Ubuntu、Debian、Kali等，这些系统可以直接在应用商店直接下载，本次要安装的系统是"),b,n("，CentOS不在应用商店中，需要手动下载"),k,s("a",_,[n("https://github.com/CentOS/sig-cloud-instance-images/"),a(e)]),g,n(" 切换到对应版本分支 "),f,n(" 下载压缩包文件 "),w]),x,s("p",null,[n("官方文档"),s("a",S,[n("https://learn.microsoft.com/zh-cn/windows/wsl/install"),a(e)])]),L])}const N=l(p,[["render",O],["__file","wsl.html.vue"]]);export{N as default};
